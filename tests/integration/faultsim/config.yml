# Fault Simulation Test Configuration

# Service configuration
service:
  name: beer-service
  base_url: http://localhost:5001
  health_endpoint: /health
  ready_endpoint: /ready

# Traffic generation configuration
traffic:
  duration_minutes: 1  # How long to generate traffic
  requests_per_second: 10  # Traffic rate
  endpoints:
    - /beers
    - /health
    - /ready
    - /beers/1
    - /beers/2

# Fault simulation configuration
fault:
  type: redis_unavailable  # Type of fault to inject
  target_service: redis-cache  # Service to target
  duration_minutes: 5  # How long fault lasts
  params: {}  # Additional parameters for specific faults

# Investigation configuration
investigation:
  executor: claude  # claude or codex
  skill_file: skills/investigate_root_cause.md
  output_file: /tmp/faultsim_root_cause.json
  timeout_minutes: 10  # Max time for investigation

# Docker configuration
docker:
  compose_file: docker-compose.faultsim.yml
  project_name: faultsim
  startup_timeout: 120  # Seconds to wait for services to start

# Validation configuration
validation:
  similarity_threshold: 0.7  # Minimum similarity between expected and actual root cause
  expected_root_cause_keywords:
    - redis
    - unavailable
    - connection
    - cache
